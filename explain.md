---
title: Reactのtypescript化について
subtitle: サブタイトル名
author: KatusothiOtogawa
date: 2021-12-18
---

## javascriptの難点

1. オブジェクト指向として壊れている。
2. phpと同じく文字列か数字か曖昧
3. ブラケット記法とかjs独自の記法や考え方多い。
4. Java並みにネットの情報が古かったり書き方に問題あるコードがある。

## 結果として発生する問題

1. vscodeのインテリセンスがすべてany...
2. 職人じゃないと読めないコード書きがち
3. なんかよくわからない, けど動く。
4. コメント書かないやつ、全体見れないやつが出てくると*崩壊*する。

js職人はスプレッド構文を使いがち。型がgolangみたいにきっちりしているなら良いが。
関数にpropsという何をキーとして想定しているのかよくわからないやつを引数にして、
スプレッド構文{...props}という形で展開してという流れ
propsのそのキーを使うことはあるの？存在しない可能性もあるの？
ライブラリ作ってるならともかく
型はわからない、キーを使うこともわからない。そのキーはほかのコンポーネント見て
と全部わからないということはないはず。
これはジェネリック使いまくってたり、Javaで多重継承使いまくってるみたいなものだから、
難解で当たり前。

Typographyの
キーも省略が多い。mtってなんや...
margintopって1バイトが貴重な時代じゃないんだからそれぐらい書け。
これだとインテリセンス聞かないから

これ一つのコンポーネントを追っていってこういう感じになってるから
暗黙知がめちゃくちゃ多い。
これちゃんとドキュメント書いてるならいいけどこの運用方法って全体を理解していること
前提なんですよ。

だから全体見れないやつが増えてきて、

割とnodejsは一人親方の所が採用しているパターンが多いから、
ここら辺の難解さや暗黙知に対して感覚マヒしていて、
typescript採用して、ts周りのライブラリの管理考えたらts採用しなくても
いいのでは？とりあえず動かすには邪魔と思う人もいる。

この状態でコメント書かないまま規模が大きくなって、人の出入りが激しくなると...

## typescript化のために確認すべきこと

1. jsdoc形式のコメントが多ないか？
2. ブラケット記法や、存在するかどうかわからないキーへの参照が動的である部分が多くないか？
3. 

あまりこれらが多い場合は後からいうts-checkを使う方法で対処したほうがいいと思われる。

## 結論

1. typescriptにしとこう。(nodejsでなくてブラウザ側だと管理コスト高い可能性もある。)
2. // @ts-checkを使う(デメリット無し)

## ts-checkを使う方法1

// @ts-checkとjsファイルの一行目に記述してやる。 \

```shell
# typescriptの方情報だけ下のようにインストールしておく。
npm install @types/react
```

## ts-checkを使う方法2

jsdocでちゃんと型を書いておく。

```js
// 変数の場合
/** @type {number} */
let count = 0;

```

## ts-checkを使う方法3

こうするとvscodeでtypescriptとしてのチェックが入り、文法的にエラーだったら赤く表示されるになる。
ただし、*jsdocで型を書いて*おくこと。こうするとエラーもインテリセンスも効く。

(どういうことかというと、)

結局の所jsの文法チェックの杜撰さが嫌いなので
interface 
